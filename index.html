<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>small example for leafletjs</title>
		
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.6.0/leaflet.css" />
		<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.6.0/leaflet.js"></script>
		
		<link rel="stylesheet" href="components/css/common.css" />
	</head>
	<body>
		<div class="container">
			<div>
					<select name="choose_basemap" id="selector" size="1" onchange="selectboxChange()">
						<option value="https://a.tile.openstreetmap.org/{z}/{x}/{y}.png">ベースマップを選択</option>
					</select>
			</div>
			<div id="map"></div>

			<div id="">
				<form name="localGeoJSON">
					<fieldset>
						<legend>GeoJSONファイルのアップロード</legend>
						<input type="file" name="chooseFiles" id="chooseFiles" multiple/>
						<table id="loadedLocalGeoJSONs">	
							<tr>
								<th></th>
								<th>ファイル名</th>
								<th>サイズ</th>
								<th>ファイルタイプ</th>
							</tr>
						</table>
					</fieldset>
				</form>
				<script type="text/javascript" src="components/js/load_localgeojson.js"></script>
				<form name="remoteGeoJSON">
					<fieldset>
						<legend>リモートにあるGeoJSONファイルを読み込む</legend>
						<input type="text" name="urlRemoteFile" id="urlRemoteFile" value="https://gist.githubusercontent.com/YUUKIToriyama/e3cabb0bcde4bd50009ed96c5b8279b8/raw/48c5150f59bc508c5b5abd17eb1fd61395ed1fae/pref_kyoto.geojson" onfocus="select()"/>
						<input type="button" id="loadButton" value="読み込む" onclick="loadRemoteGeoJSON()"/>
						<table id="loadedRemoteGeoJSONs">
							<tr>
								<th></th>
								<th>ファイル名</th>
								<th>ファイルタイプ</th>
								<th>URL</th>
							</tr>
						</table>
					</fieldset>
				</form>
				<script type="text/javascript" src="components/js/load_remotegeojson.js"></script>
				<script type="text/javascript">
					document.onkeypress = x => {
						if (window.event.keyCode == 13 && document.activeElement.id != "loadButton") {
							alert("再読込防止のためテキストエリア入力時のEnterキーの入力を抑制しています");
							return false;
						}
					}
				</script>
			</div>

		</div>

		<script type="text/javascript" src="components/js/map_display.js" charset="UTF-8"></script>
		<script type="text/javascript" src="components/js/geojson_display.js"></script>
	</body>
</html>
